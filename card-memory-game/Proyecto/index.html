<html lang="en"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title></title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-family: Arial, sans-serif;
        }
        #game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        #timer-display {
            font-size: 28px;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px #000;
            padding: 8px 16px;
            border-radius: 8px;
            min-width: 150px;
            text-align: center;
            position: absolute;
        }
        #phaser-example {
           height: 600px;
           width: 300px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="timer-display">Tiempo: 60</div>
        <div id="phaser-example"></div>
    </div>
    <script>
      window.GAME_CONFIG = {
        lives: 6, // Número de vidas iniciales del jugador
        timeLimit: 60, // Tiempo límite en segundos para completar el juego
        card: {
          width: 80, // Ancho de cada carta en píxeles
          height: 100, // Alto de cada carta en píxeles
          count: 6, // Número de pares de cartas únicas
          assetPath: 'cards/', // Carpeta donde están los assets de las cartas
          assetBase: 'card-', // Prefijo del nombre de archivo de las cartas
          assetExt: '.png', // Extensión de los archivos de carta
          backTexture: 'card-back', // Key del reverso de la carta
          backAsset: 'card-back.png', // Archivo de imagen del reverso
          frontTextures: [ // Keys de las texturas frontales de las cartas
            'card-0', 'card-1', 'card-2', 'card-3', 'card-4', 'card-5'
          ] // Lista de nombres/keys para las imágenes frontales de las cartas
        },
        grid: {
          cols: 3, // Número fijo de columnas en el grid
          rows: 4, // Número fijo de filas en el grid
          gapX: 15, // Espacio horizontal (px) entre cartas
          gapY: 20  // Espacio vertical (px) entre cartas
        },
        ui: {
          hud: 100, // Espacio vertical superior reservado para la UI (HUD)
          heartIcon: 'heart', // Key del icono de corazón
          heartAsset: 'ui/heart.png', // Ruta del asset del corazón
          volume: 0.6, // Volumen general del juego
          heartSpacing: 35, // Separación horizontal entre corazones
          heartScale: 2,   // Escala de los corazones
          heartY: 75,      // Posición vertical de los corazones
          // Callback a ejecutar al terminar el juego (definir en main.js)
          endGameCallback: function({win, winnerText, gameOverText, scene}) {
            // Mostrar alerta según victoria o derrota
            alert(win ? winnerText.text : gameOverText.text);
            // Reiniciar la escena después de 1 segundo
            setTimeout(() => {
                scene.scene.restart();
            }, 1000);
          },    
          // Padding alrededor del grid de cartas
          paddingTop: 25,    // Padding superior del grid de cartas
          paddingBottom: 25, // Padding inferior del grid de cartas
          paddingLeft: 20,   // Padding izquierdo del grid de cartas
          paddingRight: 20,  // Padding derecho del grid de cartas
          // Personalización del texto de tiempo
          timerLabel: 'Tiempo', // Etiqueta del contador de tiempo
          timerSelector: '#timer-display', // Query selector del elemento DOM para mostrar el tiempo
          useExternalTimer: true // Usar elemento DOM externo en lugar del texto de Phaser
        },
        assets: {
          basePath: 'assets/', // Carpeta base de los assets
          cardBack: {
            key: 'card-back', // Key del reverso de carta
            path: 'cards/card-back.png' // Ruta del reverso de carta
          },
          heart: {
            key: 'heart', // Key del asset de corazón
            path: 'ui/heart.png' // Ruta del asset de corazón
          },
          background: {
            key: 'background',
            path: 'ui/Background.jpg'
          },
          sounds: {
            theme: { key: 'theme-song', path: 'audio/fat-caps-audionatix.mp3', volume: 0.02 }, // Música de fondo principal
            flip: { key: 'card-flip', path: 'audio/card-flip.mp3', volume: 0.2 }, // Sonido al voltear carta
            match: { key: 'card-match', path: 'audio/card-match.mp3', volume: 0.2 }, // Sonido de match
            mismatch: { key: 'card-mismatch', path: 'audio/card-mismatch.mp3', volume: 0.2 }, // Sonido de error
            slide: { key: 'card-slide', path: 'audio/card-slide.mp3', volume: 0.2 }, // Sonido de slide
            victory: { key: 'victory', path: 'audio/victory.mp3', volume: 0.8 }, // Sonido de victoria
            whoosh: { key: 'whoosh', path: 'audio/whoosh.mp3', volume: 0.6 } // Sonido de transición
          }
        }
      };
    </script>
    <script src="https://s0.2mdn.net/creatives/assets/5478760/phaser.min.js"></script>
    <script src="main.js"></script>
    <script>
   const config = {
        type: Phaser.AUTO,
        width: 300,
        height: 600,
        transparent: true,
        parent: "phaser-example",
        backgroundColor: '#1d1d1d',
        scale: { mode: Phaser.Scale.FIT, autoCenter: Phaser.Scale.CENTER_BOTH },
        scene: [Preloader, Play]
    };

    window.game = new Phaser.Game(config);

        </script>


</body></html>